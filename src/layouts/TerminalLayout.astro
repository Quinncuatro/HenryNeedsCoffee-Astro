---
import Layout from './Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import TypingEffect from '../components/TypingEffect.astro';

interface Props {
  title: string;
  description?: string;
  image?: string;
  activeNav: 'home' | 'blog' | 'digital-garden' | 'resume' | 'talks-and-pods' | 'contact';
  commandPrompt?: string;
  typingSpeed?: number;
}

const { title, description, image, activeNav, commandPrompt = 'whoami', typingSpeed } = Astro.props;

import { getTerminalDateFormat } from '../utils/dateUtils';

// Get terminal-style date format for login prompt
const currentLoginPrompt = getTerminalDateFormat();
---

<Layout title={title} description={description} image={image}>
  <div class="terminal-window">
    <Header />
    <div class="terminal-content">
      <span class="login-prompt">{currentLoginPrompt}
      Welcome to HenryNeeds.Coffee!</span>
      <br />
      <nav class="menu-bar">
        <a href="/" class={activeNav === 'home' ? 'active' : ''}>[ Henry Quinn ]</a>
        <a href="/blog" class={activeNav === 'blog' ? 'active' : ''}>[ Blog ]</a>
        <a href="/digital-garden" class={activeNav === 'digital-garden' ? 'active' : ''}>[ Digital Garden ]</a>
        <a href="/resume" class={activeNav === 'resume' ? 'active' : ''}>[ Resume ]</a>
        <a href="/talks-and-pods" class={activeNav === 'talks-and-pods' ? 'active' : ''}>[ Talks & Pods ]</a>
        <a href="/contact" class={activeNav === 'contact' ? 'active' : ''}>[ Contact ]</a>
      </nav>
      <TypingEffect command={commandPrompt} typingSpeed={typingSpeed}>
        <slot />
      </TypingEffect>
      <Footer />
    </div>
  </div>
</Layout>

<style>
  /* Terminal styling classes are now defined in global.css */
  /* Component-specific overrides only */
  .login-prompt {
    font-size: 0.9rem;
  }

  .menu-bar a:hover {
    text-decoration: none;
  }

  @media (max-width: 768px) {
    .menu-bar {
      justify-content: center;
    }
  }
</style>